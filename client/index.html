<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>卡牌战斗</title>
	<script src="./caipan/caipan.js"></script>
	<link rel="stylesheet" href="./shoupai/shoupai.css" />
	<script src="./shoupai/shoupai.js"></script>
	<script src="./player/player.js"></script>
	<script src="./data/card.js"></script>
	<script src="./data/1/index.js"></script>
	
    <!-- <link type="text/css" rel="stylesheet" href="css/style.css"/> -->
    <!-- <script type="text/javascript" src="js/script.js"></script> -->
</head>
<body>
    <div id='app'></div>

	<!-- shoupai -->
	<div class="shoupai" id="sp"></div>
</body>
<script type="text/javascript"> 

	// 获取当前连接的用户id
	location.params = {};
	location.search.replace(/^\?/g,"").split("&").forEach((e)=>{ location.params[e.split("=")[0]]=e.split("=")[1];  })
	const id = location.params.userId;
	
	// 创建裁判
	const caipan = new Caipan();

	// 创建用户
	const player = new Player({ userId: id });

	// 添加进入裁判
	caipan.addPlayer(player);

	// 手牌管理对象
	const shoupai = new Shoupai(document.getElementById("sp"));

	player.setShoupai(shoupai)

	// 裁判准备完毕之后执行的
	caipan.onload().then(()=>{

		caipan.init();

	})

</script>
</html>
